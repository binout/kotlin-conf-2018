= Kotlin Conf

== DSL in Kotlin

https://kotlinconf.com/schedule/#session=40652

https://gitlab.com/asarazan/kotlinconf18

[quote]
When you really wish your language could do the thing

=== Ktor

image::http://ktor.io/what-is-ktor-shadow.png[]

=== Advices
[quote]
Start from the result that you want to enable +
... then write the code thant enables it !

`@DslMarker` : prevent scoping mishaps !

* Dont' pollute the global namespace
* Unary `+` only if well-scoped
* Keep lambda files next to your builder classes
* Don't extend system types (String, Int, ...)

[source, kotlin]
----
42 { //bad
.....
}

100.dollarsToCent() // Good
----

== Kotlin and Spring Boot, a match made in heaven

https://kotlinconf.com/schedule/#session=41106

@nicolas_frankel

🤯 The issue : MAGIC !

🧐 The solution ? : functional configuration

Switch to reactive :

* JPA -> Mongo Reactive
* WebMVC -> WebFlux

Swith to static configuration (no magic) :

* RestController -> static route definitions -> Router definition DSL
* @Beans -> Bean Definition DSL
* `context.initializer.classes` property -> programmtically register BeansInitializer

=== Kofu

https://spring.io/blog/2018/10/02/the-evolution-of-spring-fu

WARNING: Experimental 😜

https://github.com/ajavageek/springfunctional-migration